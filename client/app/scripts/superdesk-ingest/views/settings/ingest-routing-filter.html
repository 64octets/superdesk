<div class="field">
    <label translate>Headline</label>
    <input ng-model="rule.filter.headline">
</div>
<div class="field">
    <label translate>Keyword</label>
    <input ng-model="rule.filter.slugline">
</div>
<div class="field">
    <label translate>Body</label>
    <input ng-model="rule.filter.body">
</div>

<div class="field">
    <label translate>Subjects</label>
    <ul class="pills-list ruleset-list">
        <li class="pill-small pull-left" ng-repeat="subject in rule.filter.subject">
            <div class="name">{{subject.name}}</div>
            <div class="actions">
                <button ng-click="removeSubject(subject)" title="{{:: 'Remove subject' | translate }}"><i class="icon-trash"></i></button>
            </div>
        </li>
    </ul>
    <div style="clear: both"></div>
    <button class="btn" ng-hide="showNewSubject" ng-click="showNewSubject = true;" translate>New subject</button>
    <div ng-show="showNewSubject" sd-typeahead items="subjects" term="subjectTerm" search="searchSubjects(term)" select="selectSubject(item);showNewSubject = false">
        <ul>
            <li typeahead-item="s" ng-repeat="s in filteredSubjects">
                <span ng-show="s.path">{{s.path}} </span>{{s.name}}
            </li>
        </ul>
    </div>
    <button ng-show="showNewSubject" class="btn" ng-click="showNewSubject = false" translate>Cancel</button>
</div>

<div class="field">
    <label translate>Categories</label>
    <ul class="pills-list ruleset-list">
        <li class="pill-small pull-left" ng-repeat="category in rule.filter.category">
            <div class="name">{{category.name}}</div>
            <div class="actions">
                <button ng-click="removeCategory(category)" title="{{:: 'Remove category' | translate }}"><i class="icon-trash"></i></button>
            </div>
        </li>
    </ul>
    <div style="clear: both"></div>
    <button class="btn" ng-hide="showNewCategory" ng-click="showNewCategory = true;" translate>New category</button>
    <div ng-show="showNewCategory" sd-typeahead items="categories" term="categoryTerm" search="searchCategories(term)" select="selectCategory(item);showNewCategory = false">
        <ul>
            <li typeahead-item="c" ng-repeat="c in filteredCategories">
                {{c.name}}
            </li>
        </ul>
    </div>
    <button ng-show="showNewCategory" class="btn" ng-click="showNewCategory = false" translate>Cancel</button>
</div>

<div class="field">
    <label translate>Genres</label>
    <ul class="pills-list ruleset-list">
        <li class="pill-small pull-left" ng-repeat="genre in rule.filter.genre">
            <div class="name">{{genre}}</div>
            <div class="actions">
                <button ng-click="removeGenre(genre)" title="{{:: 'Remove genre' | translate }}"><i class="icon-trash"></i></button>
            </div>
        </li>
    </ul>
    <div style="clear: both"></div>
    <button class="btn" ng-hide="showNewGenre" ng-click="showNewGenre = true;" translate>New genre</button>
    <div ng-show="showNewGenre" sd-typeahead items="genres" term="genreTerm" search="searchGenres(term)" select="selectGenre(item);showNewGenre = false">
        <ul>
            <li typeahead-item="g" ng-repeat="g in filteredGenres">
                {{g.name}}
            </li>
        </ul>
    </div>
    <button ng-show="showNewGenre" class="btn" ng-click="showNewGenre = false" translate>Cancel</button>
</div>

<div class="field">
    <label translate>Item types</label>
    <div class="filter-box">
        <button class="btn btn-light pull-left" 
            ng-repeat="type in typeList" 
            ng-click="toggleType(rule, type)"
            ng-class="{active: isTypeChecked(rule, type)}">
                <i class="filetype-icon-{{type}}" title="{{typeLookup[type]|translate}}"></i>
        </button>
    </div>
    <div style="clear: both"></div>
</div>
