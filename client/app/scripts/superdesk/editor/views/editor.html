<div ng-repeat="block in vm.blocks" class="block__container">
    <div ng-if="vm.config.multiBlockEdition" class="block__remove" ng-click="vm.removeBlock(block)">
        <i class="icon-close-small"></i>
    </div>
    <div sd-text-editor-block-embed="block"
         on-block-change="vm.commitChanges()"
         ng-if="block.blockType === 'embed'">
    </div>
    <div sd-text-editor-block-text="block"
         ng-if="block.blockType === 'text'"
         type="vm.type"
         config="vm.config"
         language="vm.language"
         ng-change="vm.commitChanges()"
         ng-model="block.body"></div>
    <sd-add-embed ng-if="vm.config.multiBlockEdition" class="block__add-embed"></sd-add-embed>
</div>
