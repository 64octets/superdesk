<div class="preview-layout" ng-class="{closed: !selected.preview && !selected.fetch}" ng-init="extras={view: view, activity: {type: spike ? 'spike' : type, action: 'list'}, api: api}">
    <div class="list-pane {{ view || 'mgrid' }}-view">


        <div id="content-list" class="content" sd-updown data-items="items._items" data-select="preview(item)">
            <div class="loading-indicator" ng-show="loading" translate>loading</div>

            <div sd-search-tags></div>

            <div class="shadow-list-holder" ng-if="view === 'mgrid'">

                <!--
                    <li ng-repeat="item in items._items track by uuid(item)"
                        class="list-item-view"
                        ng-class="{active: item === selected.preview || item._id === selected.fetch}">
                        <div sd-media-box-grid></div>
                    </li>
                </ul>
                -->
            </div>

            <div class="shadow-list-holder" ng-if="view !== 'mgrid'">
                <ul class="compact-view list-view">
                    <li ng-repeat="item in items._items track by uuid(item)"
                        class="list-item-view"
                        ng-class="{active: item === selected.preview || item._id === selected.fetch}">
                        <div sd-media-box-list></div>
                    </li>
                </ul>
            </div>
        </div>

        <div sd-item-preview
             data-item="selected.preview"
             data-close="preview()"
             data-open-lightbox="openLightbox"
             data-open-single-item="openSingleItem">
        </div>

        <div sd-send-item
             data-item="selected.fetch"
             data-mode="monitoring">
        </div>

    </div>
</div>
